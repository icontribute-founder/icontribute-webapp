import { useHistory } from "react-router";
import styled from "styled-components";
import { useState } from "react";
import Menu from "@material-ui/core/Menu";
import MenuItem from "@material-ui/core/MenuItem";
import ProfileOptions from "../components/ProfileOptions";

import HomeButton from "../assets/images/home_button.svg";
import NotificationButton from "../assets/images/notification_button.svg";

const StyledHeader = styled.header`
  position: sticky;
  top: 0px;
  background-color: #2836d1;
  width: 100%;
  height: 65px;
  color: white;
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
  z-index: 1000;
`;

const HeaderText = styled.button`
  margin-left: 12px;
  font-family: Montserrat;
  font-weight: 600;
  font-size: 24px;
  color: #fefeff;
  display: flex;
  background: none;
  border: none;
  align-items: center;
  /*
  &: hover {
    cursor: pointer;
  }
  */
`;

const Tools = styled.div`
  display: flex;
  justify-content: space-between;
`;

const ToolButton = styled.button`
  margin-right: 12px;
  margin-left: 12px;
  background: none;
  border: none;
  /*
  &: hover {
    cursor: pointer;
  }
  */
`;

const Header = () => {
  const history = useHistory();

  const handleOnClick = (route: string) => {
    history.push(route);
  };
  const [anchorEl, setAnchorEl] = useState(null);

  const handleSettingsClick = (event: any) => {
    setAnchorEl(event.currentTarget);
  };

  const open = Boolean(anchorEl);

  const handleClose = () => {
    setAnchorEl(null);
    console.log("I am trying to handle close");
  };

  const handleSeeProfile = () => {
    handleOnClick("/account-settings");
    handleClose();
  };

  const handleEditOpportunity = () => {
    handleClose();
  };

  const handleDuplicateOpportunity = () => {
    handleClose();
  };

  const handleDeleteOpportunity = () => {
    handleClose();
  };

  const options = [
    { name: "See Your Profile", handler: handleSeeProfile },
    { name: "Edit Opportunity", handler: handleEditOpportunity },
    { name: "Duplicate Opportunity", handler: handleDuplicateOpportunity },
    { name: "Delete Opportunity", handler: handleDeleteOpportunity },
  ];

  return (
    <StyledHeader>
      <HeaderText
        onClick={() => {
          handleOnClick("/");
        }}
      >
        <svg
          width="209"
          height="50"
          viewBox="0 0 209 42"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M53.8318 18.0092H56.8318V30.8252H53.8318V18.0092ZM55.3438 15.8972C54.7998 15.8972 54.3438 15.7292 53.9758 15.3932C53.6078 15.0412 53.4238 14.6092 53.4238 14.0972C53.4238 13.5852 53.6078 13.1612 53.9758 12.8252C54.3438 12.4732 54.7998 12.2972 55.3438 12.2972C55.8878 12.2972 56.3438 12.4652 56.7118 12.8012C57.0798 13.1212 57.2638 13.5292 57.2638 14.0252C57.2638 14.5532 57.0798 15.0012 56.7118 15.3692C56.3598 15.7212 55.9038 15.8972 55.3438 15.8972ZM68.8333 31.0652C67.1373 31.0652 65.6013 30.6972 64.2253 29.9612C62.8653 29.2092 61.7933 28.1772 61.0093 26.8652C60.2413 25.5532 59.8573 24.0732 59.8573 22.4252C59.8573 20.7772 60.2493 19.2972 61.0333 17.9852C61.8173 16.6732 62.8893 15.6492 64.2493 14.9132C65.6253 14.1612 67.1613 13.7852 68.8573 13.7852C70.2333 13.7852 71.4893 14.0252 72.6253 14.5052C73.7613 14.9852 74.7213 15.6812 75.5053 16.5932L73.4893 18.4892C72.2733 17.1772 70.7773 16.5212 69.0013 16.5212C67.8493 16.5212 66.8173 16.7772 65.9053 17.2892C64.9933 17.7852 64.2813 18.4812 63.7693 19.3772C63.2573 20.2732 63.0013 21.2892 63.0013 22.4252C63.0013 23.5612 63.2573 24.5772 63.7693 25.4732C64.2813 26.3692 64.9933 27.0732 65.9053 27.5852C66.8173 28.0812 67.8493 28.3292 69.0013 28.3292C70.7773 28.3292 72.2733 27.6652 73.4893 26.3372L75.5053 28.2572C74.7213 29.1692 73.7533 29.8652 72.6013 30.3452C71.4653 30.8252 70.2093 31.0652 68.8333 31.0652ZM83.4981 30.9932C82.2021 30.9932 81.0341 30.7132 79.9941 30.1532C78.9541 29.5932 78.1381 28.8172 77.5461 27.8252C76.9701 26.8172 76.6821 25.6812 76.6821 24.4172C76.6821 23.1532 76.9701 22.0252 77.5461 21.0332C78.1381 20.0412 78.9541 19.2652 79.9941 18.7052C81.0341 18.1452 82.2021 17.8652 83.4981 17.8652C84.8101 17.8652 85.9861 18.1452 87.0261 18.7052C88.0661 19.2652 88.8741 20.0412 89.4501 21.0332C90.0421 22.0252 90.3381 23.1532 90.3381 24.4172C90.3381 25.6812 90.0421 26.8172 89.4501 27.8252C88.8741 28.8172 88.0661 29.5932 87.0261 30.1532C85.9861 30.7132 84.8101 30.9932 83.4981 30.9932ZM83.4981 28.4252C84.6021 28.4252 85.5141 28.0572 86.2341 27.3212C86.9541 26.5852 87.3141 25.6172 87.3141 24.4172C87.3141 23.2172 86.9541 22.2492 86.2341 21.5132C85.5141 20.7772 84.6021 20.4092 83.4981 20.4092C82.3941 20.4092 81.4821 20.7772 80.7621 21.5132C80.0581 22.2492 79.7061 23.2172 79.7061 24.4172C79.7061 25.6172 80.0581 26.5852 80.7621 27.3212C81.4821 28.0572 82.3941 28.4252 83.4981 28.4252ZM100.479 17.8652C102.095 17.8652 103.391 18.3372 104.367 19.2812C105.343 20.2252 105.831 21.6252 105.831 23.4812V30.8252H102.831V23.8652C102.831 22.7452 102.567 21.9052 102.039 21.3452C101.511 20.7692 100.759 20.4812 99.7828 20.4812C98.6788 20.4812 97.8068 20.8172 97.1668 21.4892C96.5268 22.1452 96.2068 23.0972 96.2068 24.3452V30.8252H93.2068V18.0092H96.0628V19.6652C96.5588 19.0732 97.1828 18.6252 97.9348 18.3212C98.6868 18.0172 99.5348 17.8652 100.479 17.8652ZM117.341 30.1292C116.989 30.4172 116.557 30.6332 116.045 30.7772C115.549 30.9212 115.021 30.9932 114.461 30.9932C113.053 30.9932 111.965 30.6252 111.197 29.8892C110.429 29.1532 110.045 28.0812 110.045 26.6732V20.5052H107.933V18.1052H110.045V15.1772H113.045V18.1052H116.477V20.5052H113.045V26.6012C113.045 27.2252 113.197 27.7052 113.501 28.0412C113.805 28.3612 114.245 28.5212 114.821 28.5212C115.493 28.5212 116.053 28.3452 116.501 27.9932L117.341 30.1292ZM122.664 19.8812C123.528 18.5372 125.048 17.8652 127.224 17.8652V20.7212C126.968 20.6732 126.736 20.6492 126.528 20.6492C125.36 20.6492 124.448 20.9932 123.792 21.6812C123.136 22.3532 122.808 23.3292 122.808 24.6092V30.8252H119.808V18.0092H122.664V19.8812ZM129.769 18.0092H132.769V30.8252H129.769V18.0092ZM131.281 15.8972C130.737 15.8972 130.281 15.7292 129.913 15.3932C129.545 15.0412 129.361 14.6092 129.361 14.0972C129.361 13.5852 129.545 13.1612 129.913 12.8252C130.281 12.4732 130.737 12.2972 131.281 12.2972C131.825 12.2972 132.281 12.4652 132.649 12.8012C133.017 13.1212 133.201 13.5292 133.201 14.0252C133.201 14.5532 133.017 15.0012 132.649 15.3692C132.297 15.7212 131.841 15.8972 131.281 15.8972ZM143.811 17.8652C145.059 17.8652 146.171 18.1372 147.147 18.6812C148.139 19.2252 148.915 19.9932 149.475 20.9852C150.035 21.9772 150.315 23.1212 150.315 24.4172C150.315 25.7132 150.035 26.8652 149.475 27.8732C148.915 28.8652 148.139 29.6332 147.147 30.1772C146.171 30.7212 145.059 30.9932 143.811 30.9932C142.931 30.9932 142.123 30.8412 141.387 30.5372C140.667 30.2332 140.059 29.7772 139.563 29.1692V30.8252H136.707V13.0172H139.707V19.5692C140.219 19.0092 140.819 18.5852 141.507 18.2972C142.211 18.0092 142.979 17.8652 143.811 17.8652ZM143.475 28.4252C144.579 28.4252 145.483 28.0572 146.187 27.3212C146.907 26.5852 147.267 25.6172 147.267 24.4172C147.267 23.2172 146.907 22.2492 146.187 21.5132C145.483 20.7772 144.579 20.4092 143.475 20.4092C142.755 20.4092 142.107 20.5772 141.531 20.9132C140.955 21.2332 140.499 21.6972 140.163 22.3052C139.827 22.9132 139.659 23.6172 139.659 24.4172C139.659 25.2172 139.827 25.9212 140.163 26.5292C140.499 27.1372 140.955 27.6092 141.531 27.9452C142.107 28.2652 142.755 28.4252 143.475 28.4252ZM165.568 18.0092V30.8252H162.712V29.1932C162.232 29.7692 161.632 30.2172 160.912 30.5372C160.192 30.8412 159.416 30.9932 158.584 30.9932C156.872 30.9932 155.52 30.5212 154.528 29.5772C153.552 28.6172 153.064 27.2012 153.064 25.3292V18.0092H156.064V24.9212C156.064 26.0732 156.32 26.9372 156.832 27.5132C157.36 28.0732 158.104 28.3532 159.064 28.3532C160.136 28.3532 160.984 28.0252 161.608 27.3692C162.248 26.6972 162.568 25.7372 162.568 24.4892V18.0092H165.568ZM177.2 30.1292C176.848 30.4172 176.416 30.6332 175.904 30.7772C175.408 30.9212 174.88 30.9932 174.32 30.9932C172.912 30.9932 171.824 30.6252 171.056 29.8892C170.288 29.1532 169.904 28.0812 169.904 26.6732V20.5052H167.792V18.1052H169.904V15.1772H172.904V18.1052H176.336V20.5052H172.904V26.6012C172.904 27.2252 173.056 27.7052 173.36 28.0412C173.664 28.3612 174.104 28.5212 174.68 28.5212C175.352 28.5212 175.912 28.3452 176.36 27.9932L177.2 30.1292ZM191.294 24.4892C191.294 24.6972 191.278 24.9932 191.246 25.3772H181.19C181.366 26.3212 181.822 27.0732 182.558 27.6332C183.31 28.1772 184.238 28.4492 185.342 28.4492C186.75 28.4492 187.91 27.9852 188.822 27.0572L190.43 28.9052C189.854 29.5932 189.126 30.1132 188.246 30.4652C187.366 30.8172 186.374 30.9932 185.27 30.9932C183.862 30.9932 182.622 30.7132 181.55 30.1532C180.478 29.5932 179.646 28.8172 179.054 27.8252C178.478 26.8172 178.19 25.6812 178.19 24.4172C178.19 23.1692 178.47 22.0492 179.03 21.0572C179.606 20.0492 180.398 19.2652 181.406 18.7052C182.414 18.1452 183.55 17.8652 184.814 17.8652C186.062 17.8652 187.174 18.1452 188.15 18.7052C189.142 19.2492 189.91 20.0252 190.454 21.0332C191.014 22.0252 191.294 23.1772 191.294 24.4892ZM184.814 20.2652C183.854 20.2652 183.038 20.5532 182.366 21.1292C181.71 21.6892 181.31 22.4412 181.166 23.3852H188.438C188.31 22.4572 187.918 21.7052 187.262 21.1292C186.606 20.5532 185.79 20.2652 184.814 20.2652Z"
            fill="#FEFEFF"
          />
          <path
            d="M41.0447 18.7742C40.21 18.5492 39.3212 18.6048 38.5234 18.9317C37.7472 19.2565 37.0211 19.8429 36.2699 20.6281C35.5188 21.4133 34.68 22.453 33.681 23.7277C32.8372 24.7988 31.8683 26.0493 30.7115 27.4888C30.3574 26.8437 29.8031 26.3224 29.1266 25.9984C28.9527 25.9165 28.7617 25.8742 28.5683 25.8748H22.6067C22.9172 23.1194 23.3303 20.5118 24.4796 18.195C25.6914 18.7185 26.8031 18.8833 27.7996 18.7112C28.9013 18.5042 29.8794 17.8973 30.5338 17.0148C31.8833 15.299 32.4366 12.5775 32.3916 9.85121C32.3869 9.62397 32.2969 9.40616 32.1384 9.23847C31.9799 9.07079 31.7637 8.96469 31.5303 8.94C28.1376 8.58618 25.5562 9.55797 24.089 11.2544C22.6218 12.9508 22.3539 15.2772 23.4155 17.4074C23.4298 17.4349 23.4457 17.4616 23.463 17.4874C23.1119 18.1743 22.8139 18.8855 22.5717 19.6151C22.3489 15.253 21.5702 11.6179 19.9352 8.86245C21.0018 6.74197 21.2647 4.53181 19.8551 2.80392C18.4454 1.07602 15.4434 0.0484967 10.6436 2.84568e-05C10.3857 -0.00190972 10.1376 0.0952273 9.95359 0.270135C9.76959 0.445042 9.66478 0.683441 9.66214 0.933043C9.6371 4.85413 10.7563 7.48838 12.6442 8.89153C14.3968 10.2026 16.6928 10.3213 18.9512 9.61856C21.0619 13.2949 21.6303 18.7815 21.3248 25.8869H19.6748C18.8733 25.6289 18.104 25.2851 17.3813 24.8618C16.5676 24.4183 15.6512 23.8925 14.6447 23.4078C12.1906 22.167 9.43381 21.5965 6.6701 21.7574C5.33057 21.8277 3.93346 22.5426 2.83179 23.2672C1.96756 23.8397 1.15281 24.4791 0.395599 25.1793C0.271054 25.295 0.171846 25.4339 0.103883 25.5875C0.0359197 25.7411 0.00059084 25.9064 0 26.0735V32.0739C0.00130189 32.2463 0.0378359 32.4167 0.107496 32.5753C0.177156 32.7339 0.278565 32.8777 0.405878 32.9982C0.53319 33.1187 0.683888 33.2136 0.849286 33.2775C1.01468 33.3414 1.19151 33.373 1.36957 33.3704C5.57595 33.3268 9.08126 34.7203 12.2686 36.1307C13.8485 36.8287 15.3783 37.5436 16.8405 38.0573C18.3027 38.5711 19.7474 38.8958 21.2046 38.8134C23.6709 38.8134 25.7615 37.895 29.4246 36.39H29.4521C32.0564 35.8945 34.4217 34.5881 36.1873 32.6701C36.2636 32.583 36.3269 32.4859 36.3751 32.3817L41.8684 20.507C41.9523 20.3431 41.9972 20.1631 41.9999 19.9803C42.0026 19.7974 41.963 19.6163 41.884 19.4502C41.805 19.2841 41.6887 19.1372 41.5434 19.0202C41.3982 18.9032 41.2278 18.8192 41.0447 18.7742ZM25.0379 12.0177C26.1446 10.7382 28.1952 9.85363 31.1547 10.1057C31.1547 12.6309 30.6189 14.9258 29.5498 16.2829C29.0841 16.9301 28.3781 17.3781 27.5793 17.5334C26.9058 17.6498 26.077 17.5552 25.0755 17.136C25.9295 15.7807 27.0529 14.6028 28.3805 13.6705C28.5133 13.5763 28.602 13.435 28.6271 13.2775C28.6523 13.12 28.6117 12.9593 28.5144 12.8308C28.4172 12.7022 28.2711 12.6164 28.1084 12.5921C27.9457 12.5677 27.7797 12.607 27.6469 12.7011C26.3042 13.6481 25.1511 14.8242 24.2442 16.1715C23.9979 15.4713 23.9416 14.7216 24.0806 13.9943C24.2195 13.2669 24.5492 12.5864 25.0379 12.0177ZM19.129 7.65559C18.0604 6.25333 16.6532 5.12588 15.0303 4.37187C14.8828 4.30117 14.7125 4.29004 14.5566 4.34095C14.4007 4.39185 14.2721 4.5006 14.199 4.64329C14.126 4.78598 14.1145 4.9509 14.1671 5.10179C14.2197 5.25268 14.332 5.37716 14.4794 5.44786C15.9999 6.15108 17.3072 7.22199 18.2752 8.5571C16.3948 9.08298 14.6772 8.89153 13.3978 7.94156C11.9781 6.88737 10.9316 4.77415 10.894 1.20447C15.4409 1.28686 17.837 2.27319 18.8786 3.54791C19.7374 4.60209 19.7975 6.01736 19.129 7.65559ZM40.7317 19.9932L35.2384 31.8679C33.6585 33.573 31.55 34.7362 29.2293 35.1832C29.1296 35.2013 29.0323 35.2298 28.9388 35.268C25.1831 36.8214 23.3604 37.6041 21.2046 37.6041H21.1646C19.9352 37.6817 18.6608 37.4054 17.2611 36.9183C15.8615 36.4312 14.3993 35.7502 12.7819 35.0402C9.5745 33.6225 5.85637 32.1321 1.35455 32.1708C1.32189 32.171 1.29044 32.1589 1.26692 32.1369C1.25728 32.1288 1.2496 32.1187 1.24441 32.1074C1.23922 32.0961 1.23665 32.0839 1.23687 32.0715V26.0735C1.23478 26.064 1.23478 26.054 1.23687 26.0445C1.94521 25.3914 2.70628 24.7942 3.51282 24.2584C4.57693 23.5605 5.73619 23.0031 6.72519 22.9522C9.27439 22.8024 11.8174 23.3304 14.0788 24.4789C15.0503 24.9491 15.9041 25.4483 16.7629 25.9184C17.5667 26.3854 18.4226 26.7627 19.3143 27.0429C19.432 27.0772 19.5543 27.0944 19.6773 27.0938H28.5733C29.0551 27.325 29.4423 27.7066 29.6724 28.1771C29.748 28.3267 29.8076 28.4834 29.8502 28.6448C29.8652 28.7029 29.8753 28.7466 29.8803 28.7732C29.8815 28.7813 29.8815 28.7894 29.8803 28.7975C29.8803 28.8459 29.8803 28.9162 29.8602 29.0059C29.8286 29.2383 29.7706 29.4667 29.6875 29.6869C29.5951 29.9715 29.433 30.2303 29.2151 30.4413C28.9971 30.6523 28.7297 30.8092 28.4356 30.8986H18.0398C17.9668 30.899 17.8939 30.9055 17.822 30.9179L15.7313 31.233C15.649 31.2434 15.5696 31.2697 15.498 31.3104C15.4264 31.3511 15.3639 31.4054 15.3145 31.4699C15.265 31.5345 15.2294 31.608 15.2099 31.6862C15.1905 31.7643 15.1874 31.8455 15.2011 31.9248C15.2147 32.0041 15.2447 32.0799 15.2893 32.1478C15.3338 32.2156 15.3921 32.274 15.4605 32.3196C15.5289 32.3652 15.6061 32.397 15.6875 32.4131C15.7688 32.4291 15.8527 32.4292 15.9341 32.4132L18.0248 32.0788H28.4481C28.5735 32.0799 28.6985 32.0627 28.8187 32.0279C29.2922 31.8831 29.7237 31.632 30.0779 31.2951C30.4321 30.9582 30.699 30.5449 30.8567 30.0891C30.9761 29.7874 31.0601 29.4736 31.1071 29.1537C31.1071 29.0737 31.1272 29.0083 31.1322 28.9477C32.5543 27.1956 33.7136 25.6979 34.685 24.462C35.6866 23.1824 36.4903 22.1912 37.1888 21.4521C37.8874 20.7129 38.4733 20.267 39.0166 20.0392C39.5644 19.8143 40.1758 19.7801 40.7467 19.9423C40.7505 19.9588 40.7479 19.9761 40.7392 19.9908L40.7317 19.9932Z"
            fill="#FEFEFF"
          />
        </svg>
      </HeaderText>

      <Tools>
        <ToolButton
          onClick={() => {
            handleOnClick("/");
          }}
        >
          <img src={HomeButton} alt="homeButton" />
        </ToolButton>
        <ToolButton
          onClick={() => {
            handleOnClick("/notifications");
          }}
        >
          <img src={NotificationButton} alt="notificationButton" />
        </ToolButton>
        <ProfileOptions />
      </Tools>
    </StyledHeader>
  );
};

export default Header;
